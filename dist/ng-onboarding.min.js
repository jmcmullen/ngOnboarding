(function(){var a;a=angular.module("ngOnboarding",[]),a.provider("ngOnboardingDefaults",function(){return{options:{overlay:!0,overlayOpacity:.6,overlayClass:"onboarding-overlay",popoverClass:"onboarding-popover",titleClass:"onboarding-popover-title",contentClass:"onboarding-popover-content",arrowClass:"onboarding-arrow",buttonContainerClass:"onboarding-button-container",buttonClass:"onboarding-button",showButtons:!0,nextButtonText:"Next",previousButtonText:"Previous",showDoneButton:!0,doneButtonText:"Done",closeButtonClass:"onboarding-close-button",closeButtonText:"&times;",stepClass:"onboarding-step-info",actualStepText:"Step",totalStepText:"of",showStepInfo:!0},$get:function(){return this.options},set:function(a,b){var c,d,e;if("object"==typeof a){e=[];for(c in a)d=a[c],e.push(this.options[c]=d);return e}return this.options[a]=b}}}),a.directive("onboardingPopover",["ngOnboardingDefaults","$sce","$timeout",function(a,b,c){return{restrict:"E",scope:{enabled:"=",steps:"=",onFinishCallback:"=",index:"=stepIndex"},replace:!0,link:function(c,d,e){var f,g,h,i;return g=null,f=["title","top","right","bottom","left","width","height","position","style"],c.next=function(){return c.index=c.index+1},c.previous=function(){return c.index=c.index-1},c.finished=function(){return c.enabled=!1,h(!1),c.onFinishCallback?c.onFinishCallback():void 0},c.$watch("index",function(d,e){var j,k,l,m,n;if("undefined"==typeof d)return c.enabled=!1,void h(!1);for(g=c.steps[c.index],c.lastStep=c.index+1===c.steps.length,c.showNextButton=c.index+1<c.steps.length,c.showPreviousButton=c.index>0,c.stepCount=c.steps.length,m=0,n=f.length;n>m;m++)j=f[m],c[j]=null;for(k in a)l=a[k],void 0===g[k]&&(c[k]=l);for(k in g)l=g[k],c[k]=l;return c.description=b.trustAsHtml(c.description),c.nextButtonText=b.trustAsHtml(c.nextButtonText),c.previousButtonText=b.trustAsHtml(c.previousButtonText),c.doneButtonText=b.trustAsHtml(c.doneButtonText),c.closeButtonText=b.trustAsHtml(c.closeButtonText),c.actualStepText=b.trustAsHtml(c.actualStepText),c.totalStepText=b.trustAsHtml(c.totalStepText),h(),i()}),h=function(a){var b,d,e,f;return null==a&&(a=!0),f=document.querySelectorAll(".onboarding-focus"),d=angular.element(f),d.removeClass("onboarding-focus"),a&&g.attachTo&&c.overlay?(e=document.querySelectorAll(g.attachTo)[0],b=angular.element(e),b.addClass("onboarding-focus")):void 0},i=function(){var a,b,d,e,f,h,i,j;return b=document.querySelectorAll(g.attachTo)[0],a=angular.element(b)[0],c.position=g.position,i=15,j=15,b&&(c.left||c.right||(e=null,f=null,"right"===c.position?e=a.getBoundingClientRect().left+a.offsetWidth+i:"left"===c.position?f=window.innerWidth-a.getBoundingClientRect().left+i:("top"===c.position||"bottom"===c.position)&&(e=a.getBoundingClientRect().left),g.xOffset&&(null!==e&&(e+=g.xOffset),null!==f&&(f-=g.xOffset)),c.left=e,c.right=f),c.top||c.bottom||(h=null,d=null,"left"===c.position||"right"===c.position?h=a.getBoundingClientRect().top:"bottom"===c.position?h=a.getBoundingClientRect().top+a.outerHeight+j:"top"===c.position&&(d=window.innerHeight-a.getBoundingClientRect().top+j),g.yOffset&&(null!==h&&(h+=g.yOffset),null!==d&&(d-=g.yOffset)),c.top=h,c.bottom=d)),c.position&&c.position.length?c.positionClass="onboarding-"+c.position:c.positionClass=null}},template:"<div class='onboarding-container' ng-show='enabled'>\n  <div class='{{overlayClass}}' ng-style='{opacity: overlayOpacity}', ng-show='overlay'></div>\n  <div class='{{popoverClass}} {{positionClass}}' ng-style=\"{width: width + 'px', height: height + 'px', left: left + 'px', top: top + 'px', right: right + 'px', bottom: bottom + 'px'}\">\n    <div class='{{arrowClass}}'></div>\n    <h3 class='{{titleClass}}' ng-show='title' ng-bind='title'></h3>\n    <a href='' ng-click='finished()' class='{{closeButtonClass}}' ng-bind-html='closeButtonText'></a>\n    <div class='{{contentClass}}'>\n      <p ng-bind-html='description'></p>\n    </div>\n    <div class='{{buttonContainerClass}}' ng-show='showButtons'>\n      <span ng-show='showStepInfo' class='{{stepClass}}'>{{actualStepText}} {{index + 1}} {{totalStepText}} {{stepCount}}</span>\n      <a href='' ng-click='previous()' ng-show='showPreviousButton' class='{{buttonClass}}' ng-bind-html='previousButtonText'></a>\n      <a href='' ng-click='next()' ng-show='showNextButton' class='{{buttonClass}}' ng-bind-html='nextButtonText'></a>\n      <a href='' ng-click='finished()' ng-show='showDoneButton && lastStep' class='{{buttonClass}}' ng-bind-html='doneButtonText'></a>\n    </div>\n  </div>\n</div>"}}])}).call(this);